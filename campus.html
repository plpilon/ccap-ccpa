<!doctype html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="icon" href="https://drive.google.com/uc?export=download&id=1i7FOimukyvfL_7VixD26O7PHzSzuSPbj">

  <title>CCAP Campus - Portail d'apprentissage</title>
<style>
  :root {
    --brand: #A4262C;
    --brand-dark: #7F1D22;
    --brand-soft: #FCE8EA;
    --bg: #F3F4F6;
    --surface: #FFFFFF;
    --surface-2: #FAFAFA;
    --text: #1F2937;
    --muted: #6B7280;
    --border: #D1D5DB;
    --border-2: #E5E7EB;
    --focus: rgba(164, 38, 44, .25);
    --good: #0F766E;
    --radius: 14px;
  }

  html, body { height: 100%; }
  
  body {
    margin: 0;
    font-family: "Segoe UI", system-ui, -apple-system, Roboto, Arial, sans-serif;
    color: var(--text);
    line-height: 1.35;
    background:
      radial-gradient(900px 700px at 50% 35%, rgba(255,255,255,.92) 0%, rgba(255,255,255,0) 60%),
      linear-gradient(135deg, #f2b7b7 0%, #f6e9e9 35%, #e9f0fb 65%, #bcd2f5 100%);
    background-attachment: fixed;
  }

  /* Topbar */
  .ccap-topbar {
    background: var(--brand);
    color: #fff;
    height: 72px;
    display: flex;
    align-items: center;
    box-shadow: 0 2px 0 rgba(0,0,0,.08);
  }
  .ccap-topbar .inner {
    max-width: 1100px;
    width: 100%;
    margin: 0 auto;
    padding: 0 16px;
    display: flex;
    align-items: center;
    gap: 14px;
  }
  .ccap-mark {
    width: 36px;
    height: 36px;
    border-radius: 8px;
    background: rgba(255,255,255,.12);
    display: grid;
    place-items: center;
    flex: 0 0 auto;
  }
  .ccap-title {
    font-size: 22px;
    font-weight: 700;
    letter-spacing: .2px;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
  }
  .ccap-actions {
    margin-left: auto;
    display: flex;
    gap: 14px;
    align-items: center;
    font-size: 14px;
    opacity: .95;
  }

  /* Breadcrumb */
  .ccap-breadcrumb {
    background: #F9FAFB;
    border-bottom: 1px solid var(--border);
    font-size: 13px;
  }
  .ccap-breadcrumb .inner {
    max-width: 1100px;
    margin: 0 auto;
    padding: 8px 16px;
    display: flex;
    align-items: center;
    gap: 6px;
    color: var(--muted);
  }
  .ccap-breadcrumb a {
    color: var(--brand);
    text-decoration: none;
    font-weight: 600;
  }
  .ccap-breadcrumb a:hover { text-decoration: underline; }
  .ccap-breadcrumb .sep { color: #9CA3AF; }
  .ccap-breadcrumb .current {
    color: #374151;
    font-weight: 600;
  }
  .ccap-breadcrumb .login-area { margin-left: auto; }

  /* Generic UI Elements */
  .wrap {
    max-width: 1100px;
    margin: 0 auto;
    padding: 18px 16px 48px;
  }
  .pill {
    display: inline-flex;
    gap: 8px;
    align-items: center;
    border: 1px solid var(--border);
    background: var(--surface);
    border-radius: 999px;
    padding: 8px 14px;
    color: var(--text);
    font-size: 12px;
    white-space: nowrap;
    font-weight: 600;
  }
  .mono { font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, monospace; }
  a { color: var(--brand); text-decoration: none; }
  a:hover { color: var(--brand-dark); }
  .require-login { cursor: pointer; }

  /* Buttons */
  button, .btn {
    border: 1px solid transparent;
    background: var(--brand);
    color: #fff;
    padding: 10px 14px;
    border-radius: 12px;
    cursor: pointer;
    font-weight: 600;
    font-size: 13px;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    transition: transform .06s ease, box-shadow .12s ease;
    user-select: none;
  }
  button:hover, .btn-primary:hover { background: var(--brand-dark); }
  button:disabled { cursor: not-allowed; opacity: .55; }
  .btn:active { transform: translateY(1px); }

  .btn-primary { box-shadow: 0 8px 18px rgba(164,38,44,.18); }
  .btn-ghost, .ghost {
    background: #fff;
    color: var(--brand);
    border: 1px solid var(--brand);
  }
  .btn-ghost:hover, .ghost:hover { background: var(--brand-soft); }

  .btn-eval, .btn-secondary {
    display: inline-block;
    padding: 10px 20px;
    border-radius: 6px;
    font-weight: 600;
    text-align: center;
    width: 100%;
    box-sizing: border-box;
    border: 1px solid var(--brand-dark);
    color: var(--brand-dark);
    background: white;
  }
  .btn-eval:hover, .btn-secondary:hover {
    background: var(--brand-dark);
    color: white;
  }

  /* Modal */
  .modal-overlay {
    position: fixed;
    inset: 0;
    background: rgba(0,0,0,.5);
    display: grid;
    place-items: center;
    z-index: 1000;
    padding: 20px;
  }
  .modal-content {
    background: var(--surface);
    border-radius: var(--radius);
    padding: 24px;
    max-width: 480px;
    width: 100%;
    box-shadow: 0 20px 50px rgba(0,0,0,.3);
  }
  .modal-content h2 { margin: 0 0 8px 0; font-size: 24px; }
  .modal-content label { display: block; font-size: 13px; font-weight: 600; margin-bottom: 6px; }
  .modal-content input {
    width: 100%;
    box-sizing: border-box;
    padding: 10px 12px;
    border-radius: 10px;
    border: 1px solid var(--border);
    background: var(--surface-2);
    font-size: 14px;
    margin-bottom: 14px;
    outline: none;
  }
  .modal-content input:focus { border-color: var(--brand); box-shadow: 0 0 0 3px var(--focus); background: #fff; }
  .modal-buttons { display: flex; gap: 10px; margin-top: 20px; }

  /* Console Footer */
  .console-footer {
    position: fixed;
    bottom: 0;
    left: 0;
    right: 0;
    background: rgba(31, 41, 55, 0.95);
    backdrop-filter: blur(8px);
    color: #9CA3AF;
    font-size: 12px;
    padding: 8px 16px;
    display: flex;
    align-items: center;
    gap: 20px;
    font-family: monospace;
    border-top: 1px solid rgba(255,255,255,.1);
    z-index: 100;
  }
  .console-footer .status-dot { width: 8px; height: 8px; border-radius: 50%; background: #6B7280; }
  .console-footer .status-dot.connected { background: var(--good); box-shadow: 0 0 8px var(--good); }
  .console-footer button { padding: 4px 10px; font-size: 11px; margin-left: auto; }
  .token-display { color: #10B981; }

  /* Hero Section */
  .hero {
    background: #fff;
    border: 1px solid var(--border);
    border-radius: 16px;
    padding: 18px;
    margin: 18px 0;
    box-shadow: 0 8px 24px rgba(0,0,0,.06);
  }
  .hero-inner { display: grid; grid-template-columns: 1.15fr .85fr; gap: 18px; align-items: stretch; }
  .hero-kicker { color: var(--brand); font-weight: 800; font-size: 12px; text-transform: uppercase; margin-bottom: 10px; }
  .hero-title { font-size: clamp(22px, 2.2vw, 30px); line-height: 1.15; margin-bottom: 10px; }
  .hero-subtitle { color: var(--muted); font-size: 15.5px; line-height: 1.5; max-width: 64ch; margin-bottom: 14px; }
  .hero-media {
    border-radius: 14px;
    border: 1px dashed #d6d9de;
    background: radial-gradient(circle at 30% 20%, rgba(164,38,44,.10), transparent 55%), #fbfbfc;
    overflow: hidden;
    min-height: 180px;
    display: grid;
    place-items: center;
  }
  @media (max-width: 860px) { .hero-inner { grid-template-columns: 1fr; } }

  /* Grid Layouts */
  #services ul {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 20px;
    list-style: none;
    padding: 0;
    margin-top: -15px;
  }
  @media (max-width: 600px) { #services ul { grid-template-columns: 1fr; } }

  .secondary-content {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 40px;
    padding: 0;
  }
  @media (max-width: 1024px) { .secondary-content { grid-template-columns: 1fr; } }
  .secondary-content ul { list-style: none; padding: 0; }
  .secondary-content li { margin-bottom: 10px; }

  /* Carousel & Catalogue */
  .carousel-container { position: relative; display: flex; align-items: center; margin: 20px 0; }
  .card-grid {
    display: flex;
    overflow-x: auto;
    gap: 24px;
    padding: 20px 0;
    scroll-behavior: smooth;
    scrollbar-width: none;
    -ms-overflow-style: none;
  }
  .card-grid::-webkit-scrollbar { display: none; }

  .course-card {
    flex: 0 0 280px;
    background: #fff;
    border: 1px solid var(--border-2);
    border-radius: 14px;
    padding: 24px;
    display: flex;
    flex-direction: column;
    box-shadow: 0 4px 12px rgba(0,0,0,0.05);
    scroll-snap-align: start;
  }
  .card-content { flex-grow: 1; color: #5f6368; font-size: 0.95rem; margin-bottom: 20px; }
  .card-meta {
    list-style: none;
    padding: 10px 0 0;
    margin: 15px 0 0;
    border-top: 1px solid #eee;
    font-size: 13px;
    color: var(--muted);
  }

  /* Carousel Navigation Buttons */
  .nav-btn {
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
    z-index: 10;
    background: white;
    border: 1px solid #ddd;
    border-radius: 50%;
    color: var(--muted);
    width: 44px;
    height: 44px;
    cursor: pointer;
    box-shadow: 0 4px 12px rgba(0,0,0,0.15);
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 20px;
  }
  .nav-btn:hover { background: #f8f8f8; }
  .nav-btn.left { left: -22px; }
  .nav-btn.right { right: -22px; }
</style>
</head>
<body>
  <div class="ccap-topbar">
    <div class="inner">
      <div class="ccap-mark" aria-hidden="true">
        <img src="https://plpilon.github.io/ccap-ccpa/ccap-ccpa.svg" height="40px">
      </div>
      <div class="ccap-title">Conseil canadien de l'administration publique</div>
      <div class="ccap-actions"></div>
    </div>
  </div>

  <nav class="ccap-breadcrumb" aria-label="Fil d'Ariane">
    <div class="inner">
      <a href="#">CCAP Campus</a>
      <span class="sep">›</span>
      <span class="current">Évaluation des compétences en technologies d'affaires</span>
      <div class="login-area">
        <button id="btnLogin" type="button">Ouvrir une session</button>
        <span id="loginPill" class="pill" style="display:none;">
          Connecté <span class="mono" id="pillToken"></span>
        </span>
      </div>
    </div>
  </nav>

  <div class="wrap">
    <h1>CCAP Campus</h1>
    <p>Portail interne pour l'apprentissage et l'évaluation des compétences. Connecte-toi pour générer ton jeton et suivre ton parcours.</p>

<section id="vedette" class="hero" aria-label="En vedette">
  <div class="hero-inner">
    <div class="hero-copy">
      <p class="hero-kicker">En vedette</p>
      <h2 class="hero-title">Annonce: Série de capsules pratiques</h2>
      <p class="hero-subtitle"><a href="#programmes">
        <span class="sep">›</span> Nouveaux contenus courts, utiles, et orientés terrain pour la productivité, la rédaction, et l'analyse.
      </p>
  </div>

    <div class="hero-media" aria-hidden="true">
      <div class="hero-media-placeholder">
        <img src="https://plpilon.github.io/ccap-ccpa/Hero.jpg" width="100%" alt="bannière promotionnelle, en vedette">
      </div>
    </div></a>
  </div>
</section>

    <section id="services">
      <h2>Services et renseignements</h2>
      <ul>
        <li>
          <h3>Catalogue d'apprentissage</h3>
          <p>Cours, tests, outils, capsules, et activités pratiques.</p>
          <p><a href="#catalogue">Accéder au catalogue</a></p>
        </li>
        <li>
          <h3>Programmes et séries</h3>
          <p>Séries structurées pour progresser étape par étape.</p>
          <p><a href="#programmes">Explorer</a></p>
        </li>
        <li>
          <h3>Partenariats et initiatives</h3>
          <p>Projets pilotes, expérimentation, et communautés de pratique.</p>
          <p><a href="#initiatives">En savoir plus</a></p>
        </li>
      </ul>
    </section>

<section id="catalogue">
      <h2>Catalogue d'apprentissage</h2>
      <div class="carousel-container">
        <button class="nav-btn left" id="scrollLeft"><span>&#10094;</span></button>
        
        <div class="card-grid" id="cardGrid">
          <article class="course-card">
            <h3>Évaluation des compétences</h3>
            <div class="card-content">
              <p>Test de placement en 3 étapes : vitesse de frappe, Word, simulation.</p>
              <ul class="card-meta">
                <li><strong>Durée:</strong> 50 min</li>
                <li>Compte requis</li>
              </ul>
            </div>
            <div class="card-footer"><a href="#" id="btnGoEval" class="btn-secondary">Accéder</a></div>
          </article>

          <article class="course-card">
            <h3>Microsoft Excel 365</h3>
            <div class="card-content"><p>Filtres, tableaux, formules, tri et mise en forme efficace.</p></div>
            <div class="card-footer"><a href="#" class="require-login btn-secondary" data-page="excel">Ouvrir</a></div>
          </article>

          <article class="course-card">
            <h3>Rédaction Word</h3>
            <div class="card-content"><p>Styles, sections, en-têtes et tables des matières professionnelles.</p></div>
            <div class="card-footer"><a href="#" class="require-login btn-secondary" data-page="word">Ouvrir</a></div>
          </article>

          <article class="course-card">
            <h3>Productivité 365</h3>
            <div class="card-content"><p>Gagner du temps avec les raccourcis et l'automatisation légère.</p></div>
            <div class="card-footer"><a href="#" class="require-login btn-secondary" data-page="prod">Ouvrir</a></div>
          </article>
        </div>

        <button class="nav-btn right" id="scrollRight"><span>&#10095;</span></button>
      </div>
    </section>

   <div class="secondary-content">
  <section id="parcours">
    <h2>Parcours d'apprentissage</h2>
    <ul>
      <li><a href="#" class="require-login" data-page="demarrage">Démarrage, outils bureautiques</a></li>
      <li><a href="#" class="require-login" data-page="redaction">Rédaction, documents et modèles</a></li>
      <li><a href="#" class="require-login" data-page="analyse">Analyse, tableaux et données</a></li>
      <li><a href="#" class="require-login" data-page="productivite">Productivité, pratiques et automatisation légère</a></li>
    </ul>
  </section>

  <section id="programmes">
    <h2>Programmes et séries</h2>
    <ul>
      <li><a href="#" class="require-login" data-page="word-series">Série: Trucs Word en 10 minutes</a></li>
      <li><a href="#" class="require-login" data-page="excel-series">Série: Excel pour produire vite et bien</a></li>
      <li><a href="#" class="require-login" data-page="comm-series">Série: Communication pro</a></li>
    </ul>
  </section>

  <section id="initiatives">
    <h2>Partenariats et initiatives</h2>
    <p>Espace pour annoncer des projets pilotes, des communautés de pratique, et des initiatives internes.</p>
    <ul>
      <li><a href="#" class="require-login" data-page="labo">Laboratoire: modèles de documents et gabarits</a></li>
      <li><a href="#" class="require-login" data-page="clinique">Clinique: Réparer un document Word en 15 minutes</a></li>
    </ul>
  </section>
</div>

    <div style="height: 60px;"></div>
  </div>

  <!-- Console Footer -->
  <div class="console-footer">
    <span class="status-dot" id="statusDot"></span>
    <span>Statut: <strong id="consoleStatus">non connecté</strong></span>
    <span id="consoleTokenArea" style="display:none;">Jeton: <span class="token-display" id="consoleToken"></span></span>
    <button id="btnConsoleAction" type="button" class="ghost" style="display:none;">Déconnexion</button>
  </div>

  <!-- Modal Login -->
  <div id="loginModal" hidden role="dialog" aria-modal="true" aria-labelledby="loginTitle">
    <div class="modal-overlay">
      <div class="modal-content">
        <h2 id="loginTitle">Se connecter</h2>
        <p>Renseigne ton identité. Un token sera généré ou réutilisé.</p>

        <form id="loginForm">
          <div>
            <label for="firstName">Prénom</label>
            <input id="firstName" autocomplete="given-name" />
          </div>
          <div>
            <label for="lastName">Nom</label>
            <input id="lastName" autocomplete="family-name" />
          </div>
          <div>
            <label for="studentId">Numéro étudiant ou courriel</label>
            <input id="studentId" autocomplete="username" required />
          </div>

          <div class="modal-buttons">
            <button type="submit">Se connecter</button>
            <button type="button" id="btnCloseModal" class="ghost">Annuler</button>
          </div>
        </form>
      </div>
    </div>
  </div>

<script>
    let identityStore = null;
    let scrollInterval;
    const scrollSpeed = 15;
    const EVAL_URL = "https://plpilon.github.io/ccap-ccpa/evaluationTIaffaires.html";

    // Helpers
    const loadIdentity = () => identityStore;
    const saveIdentity = (obj) => { identityStore = obj; };
    const clearIdentity = () => { identityStore = null; };
    const isLoggedIn = () => !!(identityStore && identityStore.token);
    
    const updateUI = () => {
      const id = loadIdentity();
      const logged = isLoggedIn();
      
      document.getElementById("btnLogin").style.display = logged ? "none" : "block";
      document.getElementById("loginPill").style.display = logged ? "inline-flex" : "none";
      if(logged) document.getElementById("pillToken").textContent = id.token.slice(0,8);

      document.getElementById("statusDot").classList.toggle("connected", logged);
      document.getElementById("consoleStatus").textContent = logged ? "connecté" : "non connecté";
      document.getElementById("consoleTokenArea").style.display = logged ? "inline" : "none";
      document.getElementById("btnConsoleAction").style.display = logged ? "block" : "none";
      if(logged) document.getElementById("consoleToken").textContent = id.token.slice(0,8);
    };

    const openModal = () => { document.getElementById("loginModal").hidden = false; };
    const closeModal = () => { document.getElementById("loginModal").hidden = true; };

    // Carousel Logic
    const startScrolling = (grid, dir) => {
      clearInterval(scrollInterval);
      grid.style.scrollBehavior = 'auto';
      scrollInterval = setInterval(() => { grid.scrollLeft += dir * scrollSpeed; }, 16);
    };

    document.addEventListener('DOMContentLoaded', () => {
      const grid = document.getElementById('cardGrid');
      const leftBtn = document.getElementById('scrollLeft');
      const rightBtn = document.getElementById('scrollRight');

      // Carousel events
      if(grid && leftBtn && rightBtn) {
        leftBtn.addEventListener('mousedown', () => startScrolling(grid, -1));
        rightBtn.addEventListener('mousedown', () => startScrolling(grid, 1));
        window.addEventListener('mouseup', () => { clearInterval(scrollInterval); grid.style.scrollBehavior = 'smooth'; });
        
        leftBtn.addEventListener('click', () => grid.scrollBy({left: -320, behavior: 'smooth'}));
        rightBtn.addEventListener('click', () => grid.scrollBy({left: 320, behavior: 'smooth'}));
      }

      // Login events
      document.getElementById("btnLogin").onclick = openModal;
      document.getElementById("btnCloseModal").onclick = closeModal;
      document.getElementById("btnConsoleAction").onclick = () => { clearIdentity(); updateUI(); };

      document.getElementById("loginForm").onsubmit = (e) => {
        e.preventDefault();
        saveIdentity({
          token: Math.random().toString(36).substr(2, 9),
          studentId: document.getElementById("studentId").value
        });
        updateUI();
        closeModal();
      };

      // Evaluation Link
      document.getElementById("btnGoEval").onclick = (e) => {
        e.preventDefault();
        if(!isLoggedIn()) return openModal();
        window.location.href = `${EVAL_URL}?token=${identityStore.token}`;
      };

      // All other protected links
      document.querySelectorAll('.require-login').forEach(link => {
        link.onclick = (e) => {
          e.preventDefault();
          if(!isLoggedIn()) return openModal();
          alert("Navigation vers le cours (Démo uniquement)");
        };
      });
    });
  </script>
</body>
</html>
